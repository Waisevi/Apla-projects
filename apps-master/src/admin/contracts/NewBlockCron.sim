contract NewBlockCron {
    data {
        ContName string
        EveryBlock int
        Conditions string
        StartBlock int
        Limit int 
    }

    conditions {
        if Size($ContName) == 0 {
            error "Contract not found"
        }

        if $EveryBlock < 1 {
            error "Interval can not be less 1"
        }

        ValidateCondition($Conditions,$ecosystem_id)
        
        if $StartBlock < $block {
            error Sprintf("Start block can not be less than the current block number. Current block number %d", $block)
        }

        if $Limit < 0 {
            error "Limit can not be less 0"
        }
    }

    action {
        NewDelayedContract("Contract,EveryBlock,Conditions,BlockID,Limit", $ContName, $EveryBlock, $Conditions, $StartBlock, $Limit)
    }
}